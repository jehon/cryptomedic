<html>

<head>
    <meta charset="utf-8" />
    <title>Cryptomedic local dev</title>
    <style>
        body {
            display: flex;
            flex-wrap: wrap;
        }

        body>* {
            width: 30%;
            border: 1px solid black;
            margin: 5px;
            padding: 15px;
        }

        a {
            margin: 10px;
        }
    </style>
</head>

<body>
    <div>
        <h2>Production</h2>
        <ul>
            <li>Production<a href='http://www.cryptomedic.org/'>Cryptomedic</a></li>
            <li>Direct links to maintenance tasks
                <ul>
                    <li><a
                            href='https://phpmyadmin.cluster003.hosting.ovh.net/index.php?pma_username=cryptomekpmain&pma_servername=cryptomekpmain.mysql.db'>
                            PhpMyAdmin OVH Database</a></li>
                    <li><a href='http://www.cryptomedic.org/maintenance/patch_db.php?pwd='>Patch DB</a></li>
                    <li><a
                            href='http://www.cryptomedic.org/api/-api.version-/routes/struct/data.php?force=1'>database-structure</a>
                    </li>

                </ul>
            </li>
            <li>Online tools
                <ul>
                    <li><a href='https://github.com/jehon/'>GitHub</a></li>
                    <li><a href='https://travis-ci.com/github/jehon/cryptomedic/branches'><img
                                src="https://travis-ci.com/jehon/cryptomedic.svg?branch=master&amp;status=passed"
                                alt="build:passed"></a></li>
                    <li>
                        <a
                            href='https://www.ovh.com/manager/web/#/configuration/hosting/cryptomedic.org?tab=GENERAL_INFORMATIONS'>OVH
                            manager</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    <div>
        <h2>Development environment</h2>
        <ul>
            <li>Local dev env<a href=':5555'>Cryptomedic</a></li>
            <li>Direct links to maintenance tasks
                <ul>
                    <li><a href=':5550'>PhpMyAdmin</a></li>
                    <li><a href=':5555/maintenance/patch_db.php?pwd=secret'>Patch DB</a></li>
                    <li><a href=':5555/api/-api.version-/routes/struct/data.php?force=1'>database-structure</a></li>
                </ul>
            </li>
            <li>Acceptance tools
                <ul>
                    <li><a href=':5551'>MailHog</a></li>
                </ul>
            </li>
        </ul>
    </div>
    <div>
        <h2>Tests</h2>
        <a href=':9876/debug.html'>Karma debug</a>
        <a href='/tests/demo/demo.html'>Demo</a>

        <h3>Tests results</h3>
        <a href='/tmp/js/junit/'>JUnit</a>
        <a href='/tmp/js/lcov-report/index.html'>Coverage</a>
        <a href='/tmp/php-api.version-/'>Coverage php laravel</a>
        <a href='/tmp/php-api.version--bare/'>Coverage php bare</a>
        <a href='/tests/style/index.html'>Style comparison</a>
    </div>
    <div>
        <h2>E2E: tests/e2e/tests/ro/readPatientTest.js</h2>
        <ul>
            <li>readPatient2000
                <ul>
                    <li><a href=':5555/build/index.html#/folder/1'>patient 2000-1</a></li>
                    <li><a href=':5555/build/index.html#/folder/1/file/RicketConsult/13'>ricket consult 13</a></li>
                    <li><a href=':5555/build/index.html#/folder/1/file/Appointment/2'>appointment 2</a></li>
                    <li><a href=':5555/build/index.html#/folder/1/file/Surgery/5'>surgery 5</a></li>
                </ul>
            </li>

            <li>readPatient5
                <ul>
                    <li><a href=':5555/build/index.html#/folder/5'>patient 2014-105</a></li>
                    <li><a href=':5555/build/index.html#/folder/5/file/ClubFoot/1'>club foot 1</a></li>
                </ul>
            </li>

            <li>readPatient6
                <ul>
                    <li><a href=':5555/build/index.html#/folder/6'>patient 2001-1</a></li>
                </ul>
            </li>

            <li>readPatient3
                <ul>
                    <li><a href=':5555/build/index.html#/folder/3'>patient 2014-103</a></li>
                </ul>
            </li>
        </ul>
    </div>

    <div>
        <h2>E2E: tests/e2e/tests/modifyPatientTest.js</h2>
        <div><a href=':5555/build/index.html#/folder/7'>patient 2001-4</a></div>
    </div>

    <div>
        <h2>E2E: reports</h2>
        <div><a href=':5555/build/index.html#/reports/activity'>activity</a>
            <ul>
                <li>month: 2014-05</li>
                <li>daily: 2014-05-20</li>
            </ul>
        </div>
        <div><a href=':5555/build/index.html#/reports/surgical'>surgical</a>
            <ul>
                <li>month: 2014-01</li>
            </ul>
        </div>
    </div>

    <script type='module'>
        import { API_VERSION } from '../app/config.js';

        const host = window.location.origin.split(':').slice(0, -1).join(':');
        document.querySelectorAll('a').forEach(/* type HTMLElement */ e => {
            let href = e.getAttribute('href');
            href = href.replace('-api.version-', API_VERSION)
            if (href[0] == ':') {
                href = host + href;
            }
            // console.log(e.getAttribute('href'), href);
            e.setAttribute('href', href);
        })
    </script>
</body>

</html>