<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module name="jh-codage">
  <template>
    <span id='translating' hidden$="[[!getTranslated(value, translated)]]" data-toggle='tooltip' data-placement='bottom' title='[[value]]'>
      <span id='translated'>[[getTranslated(value, translated)]]</span>*
    </span>
    <span id='original'   hidden$="[[getTranslated(value, translated)]]">[[value]]</span>
  </template>

  <script>
    Polymer({
      is: 'jh-codage',

      // https://www.polymer-project.org/1.0/docs/devguide/properties
      properties: {
        value: {
          type:               String,
          value:              ""
        },
        translated: {
          type:               String,
          value:              ""
        }
      },

      getTranslated(value, translated) {
        if (translated) {
          return translated;
        }
        if (!cryptomedic) {
          return false;
        }
        if (!cryptomedic.serverSettings) {
          return false;
        }

        let settings = cryptomedic.serverSettings;
        if (!settings.codes) {
          return false;
        }

        if (!settings.codes[value]) {
          return false;
        }

        return settings.codes[value];
      }
    });
  </script>
</dom-module>
