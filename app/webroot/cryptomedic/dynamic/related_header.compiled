(function(){dust.register("related_header",body_0);function body_0(chk,ctx){return chk.write("<span modes='read edit' id='informations'>Item: ").reference(ctx.get("id"),ctx,"h").write("- Type:  ").reference(ctx.get("type"),ctx,"h").exists(ctx.get("patient_id"),ctx,{"block":body_1},null).write("- Record created: ").helper("read",ctx,{},{"value":ctx.get("created"),"type":"timestamp"}).write("- Record modified: ").helper("read",ctx,{},{"value":ctx.get("modified"),"type":"timestamp"}).write("- Last user: ").reference(ctx.get("lastuser"),ctx,"h").write("</span><span security='all_edit'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input modes='edit add' class=\"button\" id=\"submitbutton\" type=\"submit\" value=\"Save\">").section(ctx.get("locked"),ctx,{"else":body_2,"block":body_5},null).write("</span>");}function body_1(chk,ctx){return chk.write("- Patient: ").reference(ctx.get("patient_id"),ctx,"h");}function body_2(chk,ctx){return chk.exists(ctx.get("patient_id"),ctx,{"else":body_3,"block":body_4},null);}function body_3(chk,ctx){return chk.write("<a modes='edit' class='textbutton' href=\"#read\"><img src=\"/amd/cryptomedic/img/cancel.gif\">Cancel</a><a modes='read' class='textbutton' href=\"#edit\"><img src=\"/amd/cryptomedic/img/edit.gif\">Edit patient</a><span modes='read'><span id='patient_nodelete' class='textbutton' status='disabled'><img src=\"/amd/cryptomedic/img/delete.gif\">Could not delete</span><a id='patient_delete' class='textbutton' href=\"/amd/").reference(ctx.get("controller"),ctx,"h").write("/delete/").reference(ctx.get("id"),ctx,"h").write("\"><img src=\"/amd/cryptomedic/img/delete.gif\">Delete patient</a></span>");}function body_4(chk,ctx){return chk.write("<a modes='edit' class='textbutton' href=\"#related/").reference(ctx.get("relatedid"),ctx,"h").write("/read\"><img src=\"/amd/cryptomedic/img/cancel.gif\">Cancel</a><!--TODO: no patient_id ?--><a modes='add' class='textbutton' href='#read' ><img src=\"/amd/cryptomedic/img/cancel.gif\">Cancel</a><span security='all_edit'><a modes='read' class='textbutton' href=\"#related/").reference(ctx.get("relatedid"),ctx,"h").write("/edit\"><img src=\"/amd/cryptomedic/img/edit.gif\">Edit</a><a modes='read' class='textbutton' href=\"/amd/").reference(ctx.get("controller"),ctx,"h").write("/delete/").reference(ctx.get("id"),ctx,"h").write("\"><img src=\"/amd/cryptomedic/img/delete.gif\">Delete</a></span>");}function body_5(chk,ctx){return chk.write("<a class='textbutton' status='disabled'><img src=\"/amd/cryptomedic/img/locked.gif\">Locked</a><a security='all_unlock' class='textbutton' href='/amd/").reference(ctx.get("controller"),ctx,"h").write("/unlock/").reference(ctx.get("id"),ctx,"h").write("'><img src=\"/amd/cryptomedic/img/unlock.gif\">Unlock this file</a>");}return body_0;})();